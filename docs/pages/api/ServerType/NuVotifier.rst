**\\D3strukt0r\\VotifierClient\\ServerType**

==========
NuVotifier
==========

.. php:namespace:: D3strukt0r\VotifierClient\ServerType
.. php:class:: NuVotifier

    The Class to access a server which uses the plugin "NuVotifier".

    .. php:attr:: private $host

        string — The domain or ip to connect to Votifier

    .. php:attr:: private $port

        int — The port which votifier uses on the server

    .. php:attr:: private $publicKey

        string — The public.key which is generated by the plugin.

    .. php:attr:: private $protocolV2

        bool — Use version 2 of the protocol

    .. php:attr:: private $token

        string|null — The token from the config.yml.

    .. php:method:: public __construct($host, $port, $publicKey[, $protocolV2, $token])

        Creates the NuVotifier object.

        :param string $host: (Required) The domain or ip to connect to Votifier
        :param int|null $port: (Required) The port which votifier uses on the server
        :param string $publicKey: (Required) The key which is generated by the plugin. Only needed if using v1!
        :param bool $protocolV2: (Optional) Use version 2 of the protocol (Recommended)
        :param string|null $token: (Optional) To use version 2 protocol the token is needed from the config.yml.

        :throws: :php:exc:`\\Exception`

    .. php:method:: public getHost() -> string

        Returns the host.

        :returns: string — Returns the host

    .. php:method:: public getPort() -> int

        Returns the port.

        :returns: int — Returns the port

    .. php:method:: public getPublicKey() -> string

        Returns the public key.

        :returns: string — Returns the public key

    .. php:method:: public isProtocolV2() -> bool

        Checks whether the connection uses the version 2 protocol.

        :returns: bool — Returns true, if using the new version of NuVotifier or false otherwise

    .. php:method:: public verifyConnection($header) -> bool

        Verifies that the connection is correct.

        :param bool|string $header: (Required) The header that the plugin usually sends

        :returns: bool — Returns true if connections is available, otherwise false

    .. php:method:: public preparePackage($vote) -> string

        Create encrypted package for default Votifier.

        :param \\D3strukt0r\\VotifierClient\\VoteType\\VoteInterface $vote: (Required) The vote package with all the information

        :returns: string — Returns the string to be sent to the server

    .. php:method:: public preparePackageV2($vote, $challenge) -> string

        Prepares the vote package to be sent as version 2 protocol package.

        :param \\D3strukt0r\\VotifierClient\\VoteType\\VoteInterface $vote: (Required) The vote package with information
        :param string $challenge: (Required) The challenge sent by the server

        :returns: string — Returns the string to be sent to the server

    .. php:method:: public send($connection, $vote)

        Sends the vote package to the server.

        :param \\D3strukt0r\\VotifierClient\\ServerConnection $connection: (Required) The connection type to the plugin
        :param \\D3strukt0r\\VotifierClient\\VoteType\\VoteInterface $vote: (Required) The vote type package

        :throws: :php:exc:`\\Exception`
